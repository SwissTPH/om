{% extends "ts_om/base.html" %}

{% load static %}

{% block extra_js %}
    {{ block.super }}
	<script src="{% static 'ts_om_experiment/js/upload.js' %}"></script>
{% endblock %}

{% block right_content %}
    {% block page_content %}
        <h3>Upload Experiment</h3>
        <form enctype="multipart/form-data" action="" method="post" onsubmit="captureSubmit();">{% csrf_token %}
            <p class="text-danger">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </p>
            <label for="id_title">Experiment name:</label>
            {{ form.name }}
             <p class="text-danger">
                {% for error in form.name.errors %}
                    {{ error }}
                {% endfor %}
            </p>
            <label for="id_file">Experiment file:</label>
            {{ form.file }}
            <p class="text-danger">
                {% for error in form.file.errors %}
                    {{ error }}
                {% endfor %}
            </p>
	        <input class="btn btn-primary" type="submit" value="Upload">
	        {{ upload_error }}
	        <div id="validating-spinner" style="display: none;">
                <i class="icon icon-spin icon-spinner"></i>
		        Uploading experiment and validating simulations...
            </div>
        </form>
    {% endblock %}
{% endblock %}